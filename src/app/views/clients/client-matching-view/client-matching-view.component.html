<div class="matching-page">
  <div class="page-header">
    <div class="page-title-section">
      <nav class="breadcrumbs">
        <span>Networking</span>
        <app-hero-icon name="arrow-right" [size]="14" class="crumb-icon"></app-hero-icon>
        <span class="active">Matching</span>
      </nav>
      <h1 class="page-title">Exploración de Clientes para Matching</h1>
      <p class="page-subtitle">Gestión estratégica de alianzas logísticas y prospección comercial.</p>
    </div>
    <div class="header-actions">
      <button class="btn btn-secondary">
        <app-hero-icon name="download" [size]="18"></app-hero-icon>
        Exportar Listado
      </button>
      <button class="btn btn-primary">
        <app-hero-icon name="plus" [size]="18"></app-hero-icon>
        Añadir Empresa
      </button>
    </div>
  </div>

  <div class="filters-bar">
    <div class="filters-label">
      <app-hero-icon name="funnel" [size]="16"></app-hero-icon>
      <span>Filtros:</span>
    </div>
    <div class="filters-controls">
      <label class="select-field">
        <select>
          @for (sector of sectors; track sector) {
            <option>{{ sector }}</option>
          }
        </select>
        <app-hero-icon name="chevron-down" [size]="16"></app-hero-icon>
      </label>
      <label class="select-field">
        <select>
          @for (region of regions; track region) {
            <option>{{ region }}</option>
          }
        </select>
        <app-hero-icon name="chevron-down" [size]="16"></app-hero-icon>
      </label>
      <label class="select-field">
        <select>
          @for (status of statuses; track status) {
            <option>{{ status }}</option>
          }
        </select>
        <app-hero-icon name="chevron-down" [size]="16"></app-hero-icon>
      </label>
      <button class="filters-clear">Limpiar filtros</button>
    </div>
  </div>

  <section class="table-card">
    <div class="table-wrapper">
      <table class="data-table">
        <thead>
          <tr>
            <th>Empresa / Cliente</th>
            <th>Rubro Especializado</th>
            <th>Ubicación Sede</th>
            <th>Índice de Actividad</th>
            <th class="text-right">Acción Comercial</th>
          </tr>
        </thead>
        <tbody>
          @for (row of matchesTable; track row.id) {
            <tr>
              <td>
                <div class="company-cell">
                  <div class="icon-badge" [ngClass]="row.tone">
                    <app-hero-icon [name]="row.icon" [size]="18"></app-hero-icon>
                  </div>
                  <div>
                    <span class="company-name">{{ row.name }}</span>
                    <span class="company-code">ID: {{ row.code }}</span>
                  </div>
                </div>
              </td>
              <td>
                <span class="category-pill" [ngClass]="row.categoryTone">{{ row.category }}</span>
              </td>
              <td>
                <div class="location-cell">
                  <app-hero-icon name="map-pin" [size]="16"></app-hero-icon>
                  {{ row.location }}
                </div>
              </td>
              <td>
                <div class="activity-cell">
                  <div class="activity-bar">
                    <div class="activity-fill" [style.width.%]="row.activity"></div>
                  </div>
                  <span>{{ row.activity }}%</span>
                </div>
              </td>
              <td class="text-right">
                <button class="action-btn" [ngClass]="row.actionClass">
                  <app-hero-icon [name]="row.actionIcon" [size]="16"></app-hero-icon>
                  {{ row.actionLabel }}
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
    <div class="table-footer">
      <p>Mostrando <strong>1 - 5</strong> de <strong>124</strong> prospectos detectados</p>
      <div class="pagination">
        <button class="page-btn">
          <app-hero-icon name="chevron-down" [size]="16" class="rotate-left"></app-hero-icon>
        </button>
        <button class="page-number active">1</button>
        <button class="page-number">2</button>
        <button class="page-number">3</button>
        <span class="page-ellipsis">...</span>
        <button class="page-number">25</button>
        <button class="page-btn">
          <app-hero-icon name="chevron-down" [size]="16" class="rotate-right"></app-hero-icon>
        </button>
      </div>
    </div>
  </section>

  <section class="stats-grid">
    @for (stat of stats; track stat.id) {
      <div class="stat-card">
        <div class="stat-icon" [ngClass]="stat.tone">
          <app-hero-icon [name]="stat.icon" [size]="20"></app-hero-icon>
        </div>
        <div>
          <p class="stat-label">{{ stat.label }}</p>
          <p class="stat-value">{{ stat.value }}</p>
        </div>
      </div>
    }
  </section>

  <div class="match-toast">
    <div class="toast-icon">
      <app-hero-icon name="check-circle" [size]="18"></app-hero-icon>
    </div>
    <div>
      <p class="toast-title">¡Solicitud de Match enviada!</p>
      <p class="toast-subtitle">Notificando al responsable de Global Logística S.A.</p>
    </div>
  </div>
</div>
